
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>
      
        Learning LUA, WoW Addons - 
      
      The Projects Blog
    </title>
    <meta name="description" content="">
    <meta name="author" content="Rodger Friesen">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link href="/assets/themes/hooligan/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/hooligan/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/assets/themes/hooligan/css-social-buttons/css/zocial.stripped.css">
    <link href="/assets/themes/hooligan/css/darkstrap.css" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/hooligan/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/sons-of-obsidian.css" type="text/css" rel="stylesheet" />
    <script type="text/javascript" src="/assets/google-code-prettify/prettify.js"></script>
    <!-- fav and touch icons -->
      <link rel="shortcut icon" href="/assets/pictures/theview.jpg">
      <link rel="apple-touch-icon" href="/assets/pictures/theview.jpg">
      <link rel="apple-touch-icon" sizes="72x72" href="/assets/pictures/theview.jpg">
      <link rel="apple-touch-icon" sizes="114x114" href="/assets/pictures/theview.jpg">
  </head>

  <body OnLoad="prettyPrint()">
    <div id="page-wrap">
      <div class="navbar">
        <div class="navbar-inner">
          <div class="container">
            <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>

            <a class="brand" href="/">The Projects Blog</a>

            <div class="nav-collapse">
              <ul class="nav">
                
                
                


  
    
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/categories.html">Categories</a></li>
      	
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/pages.html">Pages</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
      	
      	<li><a href="/tags.html">Tags</a></li>
      	
      
    
  



                <li><a href="/about.html">About Me</a></li>
              </ul>
              <ul class="nav pull-right social visible-desktop">
                <li class="divider-vertical"></li>
                
                <li>
                  <a href="https://github.com/Impally" class="zocial github icon" target="_blank">
                    <span class="hidden-desktop">Github</span>
                  </a>
                </li>
                
                
                
                <li>
                  <a href="https://twitter.com/Impally" class="zocial twitter icon" target="_blank">
                    <span class="hidden-desktop">Twitter</span>
                  </a>
                </li>
                
                
                
                
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="container">
        <div class="content">
          
<div class="page-header">
  <h1>
    Learning LUA, WoW Addons 
    
  </h1>
</div>

<div class="row">
  <div class="span8">
    
<p>I enjoy playing video games and my new interest in coding led me to want to start writing my own add-ons.  I recently purchased the book Beginning Lua with World of Warcraft Add-Ons, a tutorial written by the creator of a popular in game addon, Deadly Boss Mods, Paul Emmerich.  These are a few addons that I’ve worked with creating while doing the book and code enclosed explaining what each segment does.</p>

<pre><code>HelloWorld_Text = {}
channel = 'SAY'

SLASH_HELLOWORLD1, SLASH_HELLOWORLD2 = '/hiw', '/hellow';
function SlashCmdList.HELLOWORLD(msg)
	local id, text = msg:match("(%S+)%s+(.+)")
	if id and text then
		HelloWorld_Text[id:lower()] = text
	end
end

SLASH_HELLOWORLD_SHOW1, SLASH_HELLOWORLD_SHOW2 = "/hwshow", "/helloworldshow"
function SlashCmdList.HELLOWORLD_SHOW(msg)
	local text = HelloWorld_Text[msg:lower()]
	if text then
		SendChatMessage(text, channel);
	end
end
</code></pre>

<p>Let’s look at the start of the code:</p>

<pre><code>HelloWorld_Text = {}
channel = 'SAY'
</code></pre>

<p>These are globally declared variables, a Table HelloWorld_Text and string that we will use to decide what channel our command gets used in.
The next lines mark the first function, this function defines an in-game command a slash command, and then decides what that slash command does.</p>

<pre><code>SLASH_HELLOWORLD1, SLASH_HELLOWORLD2 = '/hiw', '/hellow';
function SlashCmdList.HELLOWORLD(msg)
	local id, text = msg:match("(%S+)%s+(.+)")
	if id and text then
		HelloWorld_Text[id:lower()] = text
	end
end
</code></pre>

<p>SLASH_HELLOWORLD1, SLASH_HELLOWORLD2 = ‘/hiw’, ‘/hellow’; This line defines a set of / commands a user can use in game to call the HELLOWORLD function, which we define immediately under as needing an argument that we parse using regular expressions.</p>

<pre><code>function SlashCmdList.HELLOWORLD(msg)
	local id, text = msg:match("(%S+)%s+(.+)")
</code></pre>

<p>What we have here is a function that gets called every time someone inputs a slash command that calls HELLOWORLD but it requires to have an argument immediately after, the next line is the start of the function that parses the argument that gets passed.  (%S)%s takes in the first Nonspace character and stops at the first whitespace character, which means the first word in our argument becomes id, (.+) is an expression that takes everything else and puts it into text.</p>

<pre><code>if id and text then
	HelloWorld_Text[id:lower()] = text
</code></pre>

<p>Then once we have our two variable, we insert them into the table so that using the id as a reference, we will get text.  id:lower() just allows us to always convert whatever argument a user puts in to lower case so that these commands are not case sensitive to call back.  So, now that we have HelloWorld_Text defined as something, what are we going to do with it?</p>

<pre><code>SLASH_HELLOWORLD_SHOW1, SLASH_HELLOWORLD_SHOW2 = "/hwshow", "/helloworldshow"
</code></pre>

<p>This is simply creating another slash command which we will use to put out the contents of HelloWorld_Text for the user.</p>

<pre><code>function SlashCmdList.HELLOWORLD_SHOW(msg)
	local text = HelloWorld_Text[msg:lower()]
		if text then
		SendChatMessage(text, channel);
</code></pre>

<p>So, we call our function and we assume that whatever argument was passed became an id, we save text and then we call the function that WoW has for LUA called SendChatMessage that requires two arguments.  One is text, that is the contents of HelloWorld_Text[msg] and the other is the channel that we want this dumped out too.  A simple add-on, so let’s look at the next add-on Paul Emmerich had us make.</p>

    <hr>
    <div class="pagination btn-group">
      
        <a class="btn prev" href="/2014/10/18/learning-apis-reddit-wallpapers" title="Learning APIs, Reddit Wallpapers">&larr; Previous</a>
      
        <a class="btn" href="/archive.html">Archive</a>
      
        <a class="btn next disabled">Next &rarr;</a>
      
    </div>
    <hr>
    
  </div>
  
  <div class="span4">
    <section>
      <h4>Published</h4>
      <div class="date"><span>18 October 2014</span></div>
    </section>
         
    
      <section>
        <h4>Tags</h4>
        <ul class="tag_box">
          
          


  
     
    	<li><a href="/tags.html#LUA-ref">LUA <span>1</span></a></li>
    
  



        </ul>
      </section>
             
  </div>
</div>


        </div>
      </div> <!-- /container -->

      <div class="footer-push"></div>
    </div><!--/.page-wrap -->

    <footer>
      <div class="container">
        <a href="impally.github.io/Resume.html">My Resume</a>
        <p>&copy; 2014 Rodger Friesen
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://github.com/dhulihan/hooligan" target="_blank">The Hooligan Theme</a>
        </p>
      </div>
    </footer>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/assets/themes/hooligan/js/jquery.min.js"><\/script>')</script>
    <script src="/assets/themes/hooligan/bootstrap/js/bootstrap.min.js"></script>
    <script>[].forEach.call(document.getElementsByTagName("pre"), function(el) { el.classList.add("prettyprint"); }); prettyPrint(); </script>
    
  </body>
</html>

